<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="pdsw.project.persistence.dao.mybatis.mappers.VoteMapper">
    
    <resultMap type='Vote' id='VoteResult'>
        <id property='id' column='id'/>
        <result property='vote' column='like_dislike'/>
        <association property='usuario' javaType='User' resultMap='pdsw.project.persistence.dao.mybatis.mappers.UserMapper.UserResult' columnPrefix='user_'/>
        <association property='iniciativa' javaType='Initiative' resultMap='pdsw.project.persistence.dao.mybatis.mappers.InitiativeMapper.InitiativeResult' columnPrefix='initiative_'/>
    </resultMap>

    <select id='getVote' parameterType="map" resultMap='VoteResult'>
        SELECT
            V.id                       as comment_id,
            V.like_dislike             as comment_description,
            V.users_id                 as comment_usuario,
            V.intention_id             as comment_iniciativa
        FROM vote as V
        WHERE id = #{vote_id}
    </select>
    
    <select id='getVotes' parameterType="map" resultMap='VoteResult'>
        SELECT
            V.id                       as comment_id,
            V.like_dislike             as comment_description,
            V.users_id                 as comment_usuario,
            V.intention_id             as comment_iniciativa
        FROM vote as V
    </select>
    
</mapper>